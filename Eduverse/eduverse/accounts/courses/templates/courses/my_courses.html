{% extends 'base.html' %}

{% block title %}My Courses - EduVerse{% endblock %}

{% block content %}
<h1>My Created Courses</h1>

<p><a href="{% url 'courses:course_create' %}">Create New Course</a></p>

{% if courses %}
    <p>You have created {{ courses.count }} course{{ courses.count|pluralize }}.</p>
    
    {% for course in courses %}
        <div style="border: 1px solid #ccc; margin: 10px 0; padding: 15px;">
            {% if course.thumbnail %}
                <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}" style="width: 150px; height: 100px; float: left; margin-right: 15px;">
            {% endif %}
            
            <h3><a href="{% url 'courses:course_detail' course.pk %}">{{ course.title }}</a></h3>
            <p>{{ course.description|truncatewords:15 }}</p>
            <p><strong>Price: BDT.{{ course.price }}</strong></p>
            <p><strong>Enrollments:</strong> {{ course.enrollments.count }}</p>
            <p><strong>Videos:</strong> {{ course.videos.count }}</p>
            <p><strong>Created:</strong> {{ course.created_at|date:"M d, Y" }}</p>
            
            <div style="clear: both; margin-top: 10px;">
                <a href="{% url 'courses:course_detail' course.pk %}">View</a> |
                <a href="{% url 'courses:course_edit' course.pk %}">Edit</a> |
                <a href="{% url 'courses:add_videos' course.pk %}">Add Videos</a> |
                <a href="{% url 'courses:course_delete' course.pk %}" onclick="return confirm('Are you sure you want to delete this course?')">Delete</a>
            </div>
        </div>
    {% endfor %}
{% else %}
    <p>You haven't created any courses yet.</p>
    <p><a href="{% url 'courses:course_create' %}">Create your first course!</a></p>
{% endif %}

<p><a href="{% url 'courses:course_list' %}">← View All Courses</a></p>
{% endblock %}