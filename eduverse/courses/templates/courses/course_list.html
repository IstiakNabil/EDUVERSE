{% extends 'base.html' %}

{% block title %}All Courses - EduVerse{% endblock %}

{% block content %}
<h1>All Courses</h1>

<p><a href="{% url 'courses:course_create' %}">Create New Course</a></p>

{% if courses %}
    {% for course in courses %}
        <div style="border: 1px solid #ccc; margin: 10px 0; padding: 15px;">
            {% if course.thumbnail %}
                <img src="{{ course.thumbnail.url }}" alt="{{ course.title }}" style="width: 200px; height: 150px;">
            {% endif %}
            
            <h3><a href="{% url 'courses:course_detail' course.pk %}">{{ course.title }}</a></h3>
            <p>{{ course.description|truncatewords:20 }}</p>
            <p><strong>Price: BDT.{{ course.price }}</strong></p>
            <p>Created on: {{ course.created_at|date:"M d, Y" }}</p>
            
            <a href="{% url 'courses:course_detail' course.pk %}">View Details</a>
        </div>
    {% endfor %}
{% else %}
    <p>No courses available yet.</p>
    <p><a href="{% url 'courses:course_create' %}">Create the first course!</a></p>
{% endif %}
{% endblock %}